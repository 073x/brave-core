diff --git a/chrome/test/BUILD.gn b/chrome/test/BUILD.gn
index 1c660e23fbfbe97d489bb7b0e463ef40197851be..467a77795e6eb72a29e3b27dda073eb50539694e 100644
--- a/chrome/test/BUILD.gn
+++ b/chrome/test/BUILD.gn
@@ -319,6 +319,7 @@ static_library("test_support") {
     "//ui/gl",
   ]
 
+  import("//brave/chromium_src/chrome/test/sources.gni") deps += brave_chromium_src_chrome_test_test_support_deps sources += brave_chromium_src_chrome_test_test_support_sources
   data_deps = []
 
   if (enable_pdf) {
@@ -5195,7 +5196,7 @@ config("disable_thinlto_cache_flags") {
 }
 
 config("pdb_larger_than_4gb") {
-  if (is_win && symbol_level == 2 && use_thin_lto) {
+  if (is_win) {
     # These binaries create PDBs larger than 4 GiB. Increasing the PDB page
     # size allows larger PDBs, but not all tools can handle such large PDBs
     # yet.
@@ -9068,6 +9069,10 @@ static_library("test_support_unit") {
   }
 }
 
+proto_library("test_proto") {
+  sources = [ "../common/safe_browsing/ipc_protobuf_message_test.proto" ]
+}
+
 if (!is_android) {
   static_library("test_support_ui") {
     defines = []
@@ -9320,10 +9325,6 @@ if (!is_android) {
     }
   }
 
-  proto_library("test_proto") {
-    sources = [ "../common/safe_browsing/ipc_protobuf_message_test.proto" ]
-  }
-
   if (is_chromeos_ash) {
     assert(enable_extensions)
 
