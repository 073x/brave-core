diff --git a/test/cctest/test-serialize.cc b/test/cctest/test-serialize.cc
index 7ce8ef715296586d3cee84f6270e326d4b3748b9..ae6399b60d83ad7db8f47aab0ea3e6fe9692e4bf 100644
--- a/test/cctest/test-serialize.cc
+++ b/test/cctest/test-serialize.cc
@@ -61,6 +61,8 @@
 #include "test/cctest/heap/heap-utils.h"
 #include "test/cctest/setup-isolate-for-tests.h"
 
+#include "brave/third_party/blink/brave_page_graph/buildflags/buildflags.h"
+
 namespace v8 {
 namespace internal {
 
@@ -1726,7 +1728,11 @@ TEST(CodeSerializerPromotedToCompilationCache) {
   MaybeHandle<SharedFunctionInfo> shared =
       isolate->compilation_cache()->LookupScript(
           src, src, 0, 0, v8::ScriptOriginOptions(), isolate->native_context(),
-          LanguageMode::kSloppy);
+          LanguageMode::kSloppy
+#if BUILDFLAG(BRAVE_PAGE_GRAPH_ENABLED)
+          , 0
+#endif
+          );
 
   CHECK(*shared.ToHandleChecked() == *copy);
 
