diff --git a/ui/gl/init/gl_factory.cc b/ui/gl/init/gl_factory.cc
index 38b5eba04e8ffd996b11f6d117752c41f896c55f..b6d186f4649c5a54b4d017ee0adba05590f1d5d3 100644
--- a/ui/gl/init/gl_factory.cc
+++ b/ui/gl/init/gl_factory.cc
@@ -141,9 +141,9 @@ bool InitializeGLOneOffPlatformHelper(bool init_extensions) {
 GLImplementationParts GetSoftwareGLForTestsImplementation() {
 #if defined(OS_WIN) || defined(OS_LINUX)
 #if defined(USE_OZONE)
-  if (!features::IsUsingOzonePlatform() ||
-      ((ui::OzonePlatform::GetPlatformNameForTest() != "wayland") &&
-       (ui::OzonePlatform::GetPlatformNameForTest() != "headless")))
+  //if (!features::IsUsingOzonePlatform() ||
+  //    ((ui::OzonePlatform::GetPlatformNameForTest() != "wayland") &&
+  //     (ui::OzonePlatform::GetPlatformNameForTest() != "headless")))
 #endif
   {
     return GetSoftwareGLImplementation();
@@ -153,6 +153,9 @@ GLImplementationParts GetSoftwareGLForTestsImplementation() {
 }
 
 GLImplementationParts GetSoftwareGLForHeadlessImplementation() {
+#if defined(OS_WIN)
+  return GetSoftwareGLImplementation();
+#endif
   return GetLegacySoftwareGLImplementation();
 }
 
